{% extends 'base.html' %}

{% block content %}
<div id="app">
  <input type="text" v-model="search">
  <button @click="searchJobs">Search</button>
  <div v-for="job in jobs" :key="job.id">
    <p>[[ job ]]</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>


let app = new Vue({
  el: '#app',
  delimiters: ['[[', ']]'],
  data: {
    jobs: [],
    search: ""
  },
  methods: {
    searchJobs: function() {
      axios({
        method: 'get',
        url: "https://remotive.io/api/remote-jobs",
        params: {
                filter: this.search
            }
      }). then(response => {
        this.jobs = response.data
      })
    }

  }
})
</script>
{% endblock %}